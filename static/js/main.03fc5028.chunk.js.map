{"version":3,"sources":["components/Card/Card.module.scss","components/Drawer/Drawer.module.scss","components/Header/index.js","components/Card/index.js","pages/Home.jsx","pages/Favorites.jsx","pages/Orders.jsx","components/Info.jsx","components/Drawer/index.js","App.js","index.js"],"names":["module","exports","Header","props","totalPrice","React","useContext","AppContext","cartItems","reduce","sum","obj","price","className","to","src","alt","onClick","onOpenCart","Card","id","parentId","title","img","loading","thisFavorite","onFavorite","onPlus","isItemAdded","isItemFavorite","Number","styles","card","speed","width","height","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","favorite","Home","items","searchValue","onChangeSearch","onAddToFavorite","onAddToCart","isLoading","onChange","placeholder","type","searchFilter","filter","item","toLowerCase","includes","Array","map","index","renderItems","Favorites","Orders","useState","orderItems","setOrderItems","setIsLoading","useEffect","a","axios","get","ordersResponce","data","flat","alert","fetchData","Info","description","setCartOpen","Drawer","onClose","onRemove","setCartItems","orderId","setOrderId","isComplite","setIsComplite","onClickOrder","post","overlay","drawer","length","disabled","createContext","App","setItems","favoriteItems","setFavoriteItems","setSearchValue","cartOpen","Promise","all","itemsResponce","cartResponce","favoriteResponce","prev","delete","findItem","find","Provider","value","some","console","log","path","exact","event","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.03fc5028.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__35wN0\",\"favorite\":\"Card_favorite__-ptFE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__3oE1S\",\"drawer\":\"Drawer_drawer__XaZMH\",\"cart-items\":\"Drawer_cart-items__1LVoH\"};","import {Link} from 'react-router-dom';\nimport React from \"react\";\nimport {AppContext} from \"../../App\";\n\nfunction Header(props) {\n  const { cartItems } = React.useContext(AppContext);\n  const totalPrice = cartItems.reduce((sum, obj) => obj.price + sum, 0);\n\n  return (\n    <header className=\"d-flex justify-between align-center p-40\">\n      <Link to=\"/\">\n        <div className=\"d-flex align-center\">\n          <img src=\"img/logo.svg\" className=\"mr-10\" alt=\"Logo\"/>\n          <div className=\"headerInfo\" >\n            <h3 className=\"text-uppercase\">Yeezy Sneakers</h3>\n            <p className=\"opacity-5\">Мазазин редких кроссовок</p>\n          </div>\n        </div>\n      </Link>\n      <ul className=\"d-flex\">\n        <li className=\"mr-30 cu-p\" onClick={props.onOpenCart}>\n          <img src=\"img/cart.svg\" alt=\"Cart\"/>\n          <span className=\"\">{totalPrice} руб.</span>\n        </li>\n        <li className=\"mr-30 cu-p\">\n          <Link to=\"/favorites\">\n            <img src=\"img/favorite.svg\" alt=\"Favorite\"/>\n          </Link>\n        </li>\n        <li>\n          <Link to=\"/orders\">\n            <img src=\"img/user.svg\" alt=\"User\"/>\n          </Link>\n        </li>\n      </ul>\n    </header>\n  )\n}\n\nexport default Header;","import styles from './Card.module.scss'\nimport React from \"react\";\nimport ContentLoader from \"react-content-loader\"\nimport {AppContext} from \"../../App\";\n\nfunction Card(\n  {\n    id,\n    parentId,\n    title,\n    price,\n    img,\n    loading,\n    thisFavorite,\n    onFavorite,\n    onPlus\n  }) {\n\n  const {isItemAdded, isItemFavorite} = React.useContext(AppContext)\n  const obj = {id, parentId: Number(id), title, img, price}\n\n  const onClickPlus = () => {\n    onPlus(obj);\n  }\n\n  const onClickFavorite =() => {\n    onFavorite(obj, thisFavorite);\n  }\n\n  return (\n    <div className={styles.card}>\n      {\n        loading ? <ContentLoader\n          speed={2}\n          width=\"100%\"\n          height={230}\n          viewBox=\"0 0 auto 240\"\n          backgroundColor=\"#f3f3f3\"\n          foregroundColor=\"#ecebeb\"\n        >\n          <rect x=\"0\" y=\"0\" rx=\"10\" ry=\"10\" width=\"100%\" height=\"135\" />\n          <rect x=\"0\" y=\"150\" rx=\"5\" ry=\"5\" width=\"150\" height=\"15\" />\n          <rect x=\"0\" y=\"170\" rx=\"5\" ry=\"5\" width=\"100\" height=\"15\" />\n          <rect x=\"0\" y=\"210\" rx=\"5\" ry=\"5\" width=\"80\" height=\"20\" />\n          <rect x=\"155\" y=\"200\" rx=\"5\" ry=\"5\" width=\"30\" height=\"30\" />\n        </ContentLoader> :\n          <div>\n            {onFavorite && (<div className={styles.favorite} onClick={onClickFavorite}>\n              <img src={isItemFavorite(thisFavorite ? parentId : id) ? \"img/like-on.svg\" : \"img/like-off.svg\"} alt=\"Unlike\"/>\n            </div>)}\n            <img width=\"100%\" height={135} src={img} alt={title}/>\n            <h5>{title}</h5>\n            <div className=\"d-flex justify-between align-center\">\n              <div className=\"d-flex flex-column\">\n                <span>Цена: </span>\n                <b>{price} руб.</b>\n              </div>\n              {onPlus && (<button className=\"button\" onClick={onClickPlus}>\n                <img src={isItemAdded(id) ? \"img/plus-on.svg\" : \"img/plus-off.svg\"} alt=\"Unlike\"/>\n              </button>)}\n            </div>\n          </div>\n      }\n    </div>\n  );\n}\n\nexport default Card;","import Card from \"../components/Card\";\n\nfunction Home(\n  {\n    items,\n    searchValue,\n    onChangeSearch,\n    onAddToFavorite,\n    onAddToCart,\n    isLoading\n  }) {\n    const renderItems = () => {\n      const searchFilter = items && items.filter((item) =>\n        item.title.toLowerCase().includes(searchValue.toLowerCase()));\n      return (isLoading ? [...Array(8)] : searchFilter)\n        .map((item, index) => (\n          <Card\n            key={index}\n            loading={isLoading}\n            onFavorite={(obj) => onAddToFavorite(obj)}\n            onPlus={(obj) => onAddToCart(obj)}\n            {...item}\n          />\n        ));\n    };\n\n    return (\n      <div className=\"content p-40\">\n        <div className=\"d-flex align-center mb-20 justify-between\">\n          <h1>{searchValue ? `Поиск по запросу \"${searchValue}\"` : `Все кросовки`}</h1>\n          <div className=\"search\">\n            <img src=\"img/search.svg\" alt=\"Search\"/>\n            <input onChange={onChangeSearch} placeholder=\"Поиск ... \" type=\"text\"/>\n          </div>\n        </div>\n        <div className=\"list d-flex flex-wrap\">\n          { renderItems() }\n        </div>\n      </div>\n    )\n}\n\nexport default Home;","import Card from \"../components/Card\";\nimport React from \"react\";\n\nfunction Favorites({items, onAddToCart, onAddToFavorite, isLoading}) {\n  return (\n    <div className=\"content p-40\">\n      <div className=\"d-flex align-center mb-20 justify-between\">\n        <h1>Мои закладки</h1>\n      </div>\n\n      <div className=\"list d-flex flex-wrap\">\n        {(isLoading ? [...Array(8)] : items).map((item, index) => (\n            <Card\n              key={index}\n              loading={isLoading}\n              onFavorite={(obj, favorite) => onAddToFavorite(obj, favorite)}\n              onPlus={(obj) => onAddToCart(obj)}\n              thisFavorite = {true}\n              {...item}\n            />\n          ))\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default Favorites;","import Card from \"../components/Card\";\nimport React from \"react\";\nimport axios from \"axios\";\n\nfunction Orders() {\n  const [orderItems, setOrderItems] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(true)\n\n  React.useEffect(() => {\n    async function fetchData() {\n      try{\n        const ordersResponce = await axios.get(\"https://61506856a706cd00179b7440.mockapi.io/api/items/orders\");\n        setOrderItems(ordersResponce.data.map((obj) => obj.items).flat());\n        setIsLoading(false);\n      } catch (e) {\n        alert('Ошибка при запросе заказов!');\n      }\n    }\n    fetchData();\n  }, []);\n\n  return (\n    <div className=\"content p-40\">\n      <div className=\"d-flex align-center mb-20 justify-between\">\n        <h1>Мои заказы</h1>\n      </div>\n\n      <div className=\"list d-flex flex-wrap\">\n        {(isLoading ? [...Array(8)] : orderItems).map((item, index) => (\n          <Card\n            key={index}\n            loading={isLoading}\n            {...item}\n          />\n        ))\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default Orders;","import React from \"react\";\nimport {AppContext} from \"../App\";\n\nexport const Info = ({img, title, description}) => {\n  const {setCartOpen} = React.useContext(AppContext);\n  return (\n    <div className=\"cartEmpty d-flex align-center justify-center flex-column flex\">\n      <img\n        className=\"md-20\"\n        width=\"120\"\n        height=\"120\"\n        src={img}\n        alt=\"Empty\"\n      />\n      <h2>{title}</h2>\n      <p className=\"opacity-6\">{description}</p>\n      <button className=\"greenButton\" onClick={() => setCartOpen(false)}>\n        <img src=\"img/arrow.svg\" alt=\"Arrow\"/>\n        Вернуться назад\n      </button>\n    </div>\n  )\n}","import React from \"react\";\nimport axios from \"axios\";\nimport styles from './Drawer.module.scss'\nimport {AppContext} from \"../../App\";\nimport {Info} from \"../Info\";\n\nfunction Drawer({onClose, onRemove, items = []}) {\n  const { cartItems, setCartItems } = React.useContext(AppContext)\n  const [orderId, setOrderId] = React.useState(null);\n  const [isComplite, setIsComplite] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const totalPrice = cartItems.reduce((sum, obj) => obj.price + sum, 0);\n\n  const onClickOrder = async () => {\n    try {\n      setIsLoading(true);\n      const {data} = await axios.post(\"https://61506856a706cd00179b7440.mockapi.io/api/items/orders\", {\n        items: cartItems\n      });\n      setOrderId(data.id);\n      setIsComplite(true);\n      setCartItems([]);\n\n      /*for(let i=0; i < cartItems.length; i++){\n        await axios.put(\"https://61506856a706cd00179b7440.mockapi.io/api/items/orders\", []);\n      }*/\n    } catch (e) {\n      alert('Ошибка при создании заказа')\n    }\n    setIsLoading(false);\n  }\n\n  return(\n    <div className={styles.overlay}>\n      <div className={styles.drawer}>\n        <h2 className=\"d-flex justify-between mb-20\">\n          Корзина <img onClick={onClose} src=\"img/delete-off.svg\" alt=\"Close\" />\n        </h2>\n\n        {items.length > 0 ? (\n          <div className=\"d-flex flex-column flex\">\n            <div className=\"cart-items flex\">\n              {items.map((obj) => (\n                <div key={obj.id} className=\"cart-item d-flex align-center mb-20\">\n                  <img className=\"mr-20\" width=\"70px\" height=\"70px\" src={obj.img} alt=\"\" />\n                  <div className=\"mr-20\">\n                    <p className=\"mb5\">{obj.title}</p>\n                    <b>{obj.price} руб.</b>\n                  </div>\n                  <img onClick={() => onRemove(obj.id)} src=\"img/delete-off.svg\" alt=\"Delete\" />\n                </div>\n                ))\n              }\n            </div>\n\n            <div className=\"cart-total\">\n              <ul>\n                <li>\n                  <span>Итого:</span>\n                  <div> </div>\n                  <b>{totalPrice} руб.</b>\n                </li>\n                <li>\n                  <span>Налог 5%:</span>\n                  <div> </div>\n                  <b>{ totalPrice/100 * 5 } руб.</b>\n                </li>\n              </ul>\n              <button disabled={isLoading} onClick={onClickOrder} className=\"greenButton\">\n                Оформить заказ\n                <img src=\"img/arrow.svg\" alt=\"Next\" />\n              </button>\n            </div>\n          </div>\n          ) : (\n          <Info\n            title={isComplite ? \"Заказ оформлен!\" : \"Корзина пустая\"}\n            description={isComplite ? `Ваш заказ #${orderId} оформлен и будет передан курьеру` : \"Добавьте хотя бы одну пару кроссовок\"}\n            img={isComplite ? \"img/confirm-cart.jpg\" : \"img/empty-cart.jpg\"}\n          />\n          )}\n      </div>\n    </div>\n  )\n}\n\nexport default Drawer;","import React from \"react\";\nimport axios from \"axios\";\nimport {Route} from \"react-router-dom\";\nimport Header from './components/Header';\nimport Home from \"./pages/Home\";\nimport Favorites from \"./pages/Favorites\";\nimport Orders from \"./pages/Orders\";\nimport Drawer from \"./components/Drawer\";\n\nexport const AppContext = React.createContext({});\n\nfunction App() {\n  const [items, setItems] = React.useState([]);\n  const [cartItems, setCartItems] = React.useState([]);\n  const [favoriteItems, setFavoriteItems] = React.useState([]);\n  const [searchValue, setSearchValue] = React.useState('');\n  const [cartOpen, setCartOpen] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    async function fetchData() {\n      try {\n        const [itemsResponce, cartResponce, favoriteResponce] = await Promise.all([\n            axios.get(\"https://61506856a706cd00179b7440.mockapi.io/api/items/items\"),\n            axios.get(\"https://61506856a706cd00179b7440.mockapi.io/api/items/cart\"),\n            axios.get(\"https://61506856a706cd00179b7440.mockapi.io/api/items/favorite\")\n          ]);\n        setIsLoading(false);\n        setCartItems(cartResponce.data);\n        setFavoriteItems(favoriteResponce.data);\n        setItems(itemsResponce.data);\n      } catch (e) {\n        alert('Ошибка при запросе данных!')\n      }\n    }\n\n    fetchData();\n  }, []);\n\n  const onAddToFavorite = async (obj, favorite) => {\n    if (favorite){\n      setFavoriteItems(prev => prev.filter(item => Number(item.id) !== Number(obj.id)));\n      await axios.delete(`https://61506856a706cd00179b7440.mockapi.io/api/items/favorite/${obj.id}`);\n    } else {\n      const findItem = favoriteItems.find((item) => Number(item.parentId) === Number(obj.id));\n\n      try {\n        if(findItem) {\n          setFavoriteItems(prev => prev.filter(item => Number(item.parentId) !== Number(obj.id)));\n          await axios.delete(`https://61506856a706cd00179b7440.mockapi.io/api/items/favorite/${findItem.id}`);\n        } else {\n          setFavoriteItems((prev) => [...prev, obj]);\n          const { data } = await axios.post(\"https://61506856a706cd00179b7440.mockapi.io/api/items/favorite\", obj);\n          setFavoriteItems((prev) => prev.map(item => {\n            if (Number(item.parentId) === Number(data.parentId)) {\n              return {\n                ...item,\n                id: data.id\n              }\n            }\n            return item;\n          }));\n        }\n      } catch (error) {\n        alert('Не удалось добавить в закладки')\n      }\n    }\n  };\n\n  const onAddToCart = async (obj) => {\n    const findItem = cartItems.find((item) => Number(item.parentId) === Number(obj.id));\n    try {\n      if(findItem) {\n        setCartItems(prev => prev.filter(item => Number(item.parentId) !== Number(obj.id)))\n        axios.delete(`https://61506856a706cd00179b7440.mockapi.io/api/items/cart/${findItem.id}`);\n      } else {\n        setCartItems((prev) => [...prev, obj]);\n        const { data } =  await axios.post(\"https://61506856a706cd00179b7440.mockapi.io/api/items/cart\", obj);\n        setCartItems((prev) => prev.map(item => {\n          if (Number(item.parentId) === Number(data.parentId)){\n            return {\n              ...item,\n              id: data.id\n            }\n          }\n          return item;\n        }));\n      }\n    } catch (error) {\n      alert('Не удалось добавить товар в корзину')\n    }\n  };\n\n  const onRemoveOnCart = (id) => {\n    axios.delete(`https://61506856a706cd00179b7440.mockapi.io/api/items/cart/${id}`);\n    setCartItems((prev) => prev.filter(item => Number(item.id) !== Number(id)));\n  }\n\n  const onChangeSearch = (event) => {\n    setSearchValue(event.target.value);\n  }\n\n  const isItemAdded = (id) => {\n    return cartItems.some((obj) => Number(obj.parentId) === Number(id))\n  }\n\n  const isItemFavorite = (id) => {\n    console.log(favoriteItems + \"ID \" + id);\n    return favoriteItems.some((obj) => Number(obj.parentId) === Number(id));\n  }\n\n  return (\n    <AppContext.Provider value={{items, cartItems, favoriteItems, isItemAdded, isItemFavorite, setCartOpen, setCartItems}}>\n      <div className=\"wrapper clear\">\n\n        {cartOpen &&\n        <Drawer\n          items={cartItems}\n          onClose={() => setCartOpen(false)}\n          onRemove={onRemoveOnCart}\n        />}\n\n        <Header\n          onOpenCart={() => setCartOpen(true)}\n        />\n\n        <Route path=\"\" exact>\n          <Home\n            items={items}\n            searchValue={searchValue}\n            onChangeSearch={onChangeSearch}\n            onAddToFavorite={onAddToFavorite}\n            onAddToCart={onAddToCart}\n            isLoading={isLoading}\n          />\n        </Route>\n\n        <Route path=\"/favorites\" exact>\n          <Favorites\n            items={favoriteItems}\n            onAddToFavorite={onAddToFavorite}\n            onAddToCart={onAddToCart}\n            isLoading={isLoading}\n          />\n        </Route>\n\n        <Route path=\"/orders\" exact>\n          <Orders\n          />\n        </Route>\n      </div>\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport './index.scss';\nimport 'macro-css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}